{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"site-section p-4\"\n};\nconst _hoisted_2 = {\n  class: \"container\"\n};\nconst _hoisted_3 = {\n  class: \"row\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_car_list_item_component = _resolveComponent(\"car-list-item-component\");\n\n  return _openBlock(), _createElementBlock(\"section\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.cars, (car, key) => {\n    return _openBlock(), _createBlock(_component_car_list_item_component, {\n      key: key,\n      id: car.id,\n      title: car.title,\n      description: car.description,\n      image: car.image,\n      owner_id: car.owner_id,\n      price_per_hour: car.price_per_hour\n    }, null, 8\n    /* PROPS */\n    , [\"id\", \"title\", \"description\", \"image\", \"owner_id\", \"price_per_hour\"]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  )), _createCommentVNode(\"        <meeting-list-item-component v-for=\\\"(meeting, key) in meetings\\\" :key=\\\"key\\\"\"), _createCommentVNode(\"                                     :currentValue=\\\"meeting.bought_tickets\\\"\"), _createCommentVNode(\"                                     :maxValue=\\\"meeting.total_tickets\\\"\"), _createCommentVNode(\"                                     :id=\\\"key\\\"\"), _createCommentVNode(\"                                     :title=\\\"meeting.title\\\"\"), _createCommentVNode(\"                                     :ticketPrice=\\\"meeting.ticket_price\\\"\"), _createCommentVNode(\"                                     :author=\\\"meeting.owner_name\\\"\"), _createCommentVNode(\"                                     :image=\\\"meeting.nft_media\\\"\"), _createCommentVNode(\"                                     :donation-type=\\\"meeting.donation_type\\\"\"), _createCommentVNode(\"        ></meeting-list-item-component>\")])])]);\n}","map":{"version":3,"mappings":";;EACWA,KAAK,EAAC;;;EACRA,KAAK,EAAC;;;EAEJA,KAAK,EAAC;;;;;uBAHfC,oBA0BU,SA1BV,cA0BU,CAzBRC,oBAwBM,KAxBN,cAwBM,CAtBJA,oBAqBM,KArBN,cAqBM,oBApBJD,oBAS0BE,SAT1B,EAS0B,IAT1B,EAS0BC,YATmBC,UASnB,EATuB,CAAhBC,GAAgB,EAAZC,GAAY,KAAT;yBAAxCC,aAS0BC,kCAT1B,EAS0B;MAT0BF,GAAG,EAAEA,GAS/B;MARAG,EAAE,EAAEJ,GAAG,CAACI,EAQR;MAPAC,KAAK,EAAEL,GAAG,CAACK,KAOX;MANAC,WAAW,EAAEN,GAAG,CAACM,WAMjB;MALAC,KAAK,EAAEP,GAAG,CAACO,KAKX;MAJAC,QAAQ,EAAER,GAAG,CAACQ,QAId;MAHAC,cAAc,EAAET,GAAG,CAACS;IAGpB,CAT1B;;IAAA;GAS0B,CAT1B;;EAAA,CAoBI,GAVZC,6GAUY,EATZA,oGASY,EARZA,+FAQY,EAPZA,uEAOY,EANZA,oFAMY,EALZA,iGAKY,EAJZA,0FAIY,EAHZA,wFAGY,EAFZA,oGAEY,EADZA,8DACY,CArBN,CAsBI,CAxBN,CAyBQ,CA1BV","names":["class","_createElementBlock","_createElementVNode","_Fragment","_renderList","$data","car","key","_createBlock","_component_car_list_item_component","id","title","description","image","owner_id","price_per_hour","_createCommentVNode"],"sourceRoot":"","sources":["/var/www/ch-8-car-renting/frontend/src/components/Pages/CarsComponent.vue"],"sourcesContent":["<template>\n  <section class=\"site-section p-4\">\n    <div class=\"container\">\n\n      <div class=\"row\">\n        <car-list-item-component v-for=\"(car,key) in cars\" :key=\"key\"\n                                 :id=\"car.id\"\n                                 :title=\"car.title\"\n                                 :description=\"car.description\"\n                                 :image=\"car.image\"\n                                 :owner_id=\"car.owner_id\"\n                                 :price_per_hour=\"car.price_per_hour\"\n        >\n\n        </car-list-item-component>\n<!--        <meeting-list-item-component v-for=\"(meeting, key) in meetings\" :key=\"key\"-->\n<!--                                     :currentValue=\"meeting.bought_tickets\"-->\n<!--                                     :maxValue=\"meeting.total_tickets\"-->\n<!--                                     :id=\"key\"-->\n<!--                                     :title=\"meeting.title\"-->\n<!--                                     :ticketPrice=\"meeting.ticket_price\"-->\n<!--                                     :author=\"meeting.owner_name\"-->\n<!--                                     :image=\"meeting.nft_media\"-->\n<!--                                     :donation-type=\"meeting.donation_type\"-->\n<!--        ></meeting-list-item-component>-->\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nimport * as nearAPI from 'near-api-js';\nimport CarListItemComponent from \"@/components/Pages/CarListItemComponent\";\nexport default {\n  name: \"CarsComponent\",\n  components:{\n    CarListItemComponent\n  },\n  data(){\n    return {\n      cars : {}\n    }\n  },\n  methods:{\n    async getAllCars(){\n      const provider = new nearAPI.providers.JsonRpcProvider(window.nearConfig.nodeUrl);\n      const rawResult = await provider.query({\n        request_type: \"call_function\",\n        finality: \"final\",\n        account_id: window.nearConfig.contractName,\n        method_name: \"get_all_cars\",\n        args_base64: '',\n      });\n      this.cars = JSON.parse(Buffer.from(rawResult.result).toString())\n    }\n  },\n  async mounted() {\n    let loader = this.$loading.show();\n    await this.getAllCars()\n    loader.hide()\n  },\n}\n</script>\n\n<style scoped>\n\n\n</style>"]},"metadata":{},"sourceType":"module"}