{"ast":null,"code":"import * as nearAPI from 'near-api-js';\nimport CarListItemComponent from \"@/components/Pages/CarListItemComponent\";\nexport default {\n  name: \"CarsComponent\",\n  components: {\n    CarListItemComponent\n  },\n\n  data() {\n    return {\n      cars: {}\n    };\n  },\n\n  methods: {\n    async getAllCars() {\n      const provider = new nearAPI.providers.JsonRpcProvider(window.nearConfig.nodeUrl);\n      const rawResult = await provider.query({\n        request_type: \"call_function\",\n        finality: \"final\",\n        account_id: window.nearConfig.contractName,\n        method_name: \"get_all_cars\",\n        args_base64: ''\n      });\n      this.cars = JSON.parse(Buffer.from(rawResult.result).toString());\n    }\n\n  },\n\n  async mounted() {\n    let loader = this.$loading.show();\n    await this.getAllCars();\n    loader.hide();\n  }\n\n};","map":{"version":3,"mappings":"AA+BA,OAAO,KAAKA,OAAZ,MAAyB,aAAzB;AACA,OAAOC,oBAAP,MAAiC,yCAAjC;AACA,eAAe;EACbC,IAAI,EAAE,eADO;EAEbC,UAAU,EAAC;IACTF;EADS,CAFE;;EAKbG,IAAI,GAAE;IACJ,OAAO;MACLC,IAAG,EAAI;IADF,CAAP;EAGD,CATY;;EAUbC,OAAO,EAAC;IACN,MAAMC,UAAN,GAAkB;MAChB,MAAMC,QAAO,GAAI,IAAIR,OAAO,CAACS,SAAR,CAAkBC,eAAtB,CAAsCC,MAAM,CAACC,UAAP,CAAkBC,OAAxD,CAAjB;MACA,MAAMC,SAAQ,GAAI,MAAMN,QAAQ,CAACO,KAAT,CAAe;QACrCC,YAAY,EAAE,eADuB;QAErCC,QAAQ,EAAE,OAF2B;QAGrCC,UAAU,EAAEP,MAAM,CAACC,UAAP,CAAkBO,YAHO;QAIrCC,WAAW,EAAE,cAJwB;QAKrCC,WAAW,EAAE;MALwB,CAAf,CAAxB;MAOA,KAAKhB,IAAL,GAAYiB,IAAI,CAACC,KAAL,CAAWC,MAAM,CAACC,IAAP,CAAYX,SAAS,CAACY,MAAtB,EAA8BC,QAA9B,EAAX,CAAZ;IACF;;EAXM,CAVK;;EAuBb,MAAMC,OAAN,GAAgB;IACd,IAAIC,MAAK,GAAI,KAAKC,QAAL,CAAcC,IAAd,EAAb;IACA,MAAM,KAAKxB,UAAL,EAAN;IACAsB,MAAM,CAACG,IAAP;EACD;;AA3BY,CAAf","names":["nearAPI","CarListItemComponent","name","components","data","cars","methods","getAllCars","provider","providers","JsonRpcProvider","window","nearConfig","nodeUrl","rawResult","query","request_type","finality","account_id","contractName","method_name","args_base64","JSON","parse","Buffer","from","result","toString","mounted","loader","$loading","show","hide"],"sourceRoot":"","sources":["/var/www/ch-8-car-renting/frontend/src/components/Pages/CarsComponent.vue"],"sourcesContent":["<template>\n  <section class=\"site-section p-4\">\n    <div class=\"container\">\n\n      <div class=\"row\">\n        <car-list-item-component v-for=\"(car,key) in cars\" :key=\"key\"\n                                 :id=\"key\"\n                                 :title=\"car.title\"\n                                 :description=\"car.description\"\n                                 :image=\"car.image\"\n                                 :owner_id=\"car.owner_id\"\n                                 :price_per_hour=\"car.price_per_hour\"\n        >\n\n        </car-list-item-component>\n<!--        <meeting-list-item-component v-for=\"(meeting, key) in meetings\" :key=\"key\"-->\n<!--                                     :currentValue=\"meeting.bought_tickets\"-->\n<!--                                     :maxValue=\"meeting.total_tickets\"-->\n<!--                                     :id=\"key\"-->\n<!--                                     :title=\"meeting.title\"-->\n<!--                                     :ticketPrice=\"meeting.ticket_price\"-->\n<!--                                     :author=\"meeting.owner_name\"-->\n<!--                                     :image=\"meeting.nft_media\"-->\n<!--                                     :donation-type=\"meeting.donation_type\"-->\n<!--        ></meeting-list-item-component>-->\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nimport * as nearAPI from 'near-api-js';\nimport CarListItemComponent from \"@/components/Pages/CarListItemComponent\";\nexport default {\n  name: \"CarsComponent\",\n  components:{\n    CarListItemComponent\n  },\n  data(){\n    return {\n      cars : {}\n    }\n  },\n  methods:{\n    async getAllCars(){\n      const provider = new nearAPI.providers.JsonRpcProvider(window.nearConfig.nodeUrl);\n      const rawResult = await provider.query({\n        request_type: \"call_function\",\n        finality: \"final\",\n        account_id: window.nearConfig.contractName,\n        method_name: \"get_all_cars\",\n        args_base64: '',\n      });\n      this.cars = JSON.parse(Buffer.from(rawResult.result).toString())\n    }\n  },\n  async mounted() {\n    let loader = this.$loading.show();\n    await this.getAllCars()\n    loader.hide()\n  },\n}\n</script>\n\n<style scoped>\n\n\n</style>"]},"metadata":{},"sourceType":"module"}