{"ast":null,"code":"import getConfig from './config.js';\nimport { Contract } from \"near-api-js\";\nimport * as nearAPI from \"near-api-js\";\nwindow.roketCfg = getConfig('roketo_wrap');\n\nasync function init() {\n  // const keyStore = new nearAPI.keyStores.BrowserLocalStorageKeyStore();\n  const near = await nearAPI.connect({ ...window.roketCfg\n  });\n  window.roketoConnection = new nearAPI.WalletConnection(near);\n  const account = await near.account(window.nearAccount.accountId);\n  console.log(account);\n  const ftContract = new Contract(account, 'wrap.testnet', {\n    changeMethods: ['ft_transfer_call', 'near_deposit']\n  });\n  console.log(ftContract);\n  await ftContract.near_deposit({}, \"200000000000000\", \"1000000000000000000000000\"); // await ftContract.ft_transfer_call({\n  //     receiver_id: 'streaming-r-v2.dcversus.testnet',\n  //     amount: '1000000000000000000000000', // 1 NEAR\n  //     memo: 'Roketo transfer',\n  //     msg: JSON.stringify({\n  //         Create: {\n  //             request: {\n  //                 \"owner_id\": window.nearAccount.accountId,\n  //                 \"receiver_id\": \"rocketotest2.testnet\",\n  //                 \"tokens_per_sec\": 385802469135802469, // 1 month for 1 NEAR\n  //             }\n  //         }\n  //     }),\n  // }, 200000000000000);\n}\n\nexport { init };","map":{"version":3,"names":["getConfig","Contract","nearAPI","window","roketCfg","init","near","connect","roketoConnection","WalletConnection","account","nearAccount","accountId","console","log","ftContract","changeMethods","near_deposit"],"sources":["/var/www/ch-8-car-renting/frontend/src/roketoNearJsService.js"],"sourcesContent":["import getConfig from './config.js';\nimport {Contract} from \"near-api-js\";\nimport * as nearAPI from \"near-api-js\";\n\nwindow.roketCfg = getConfig('roketo_wrap');\n\nasync function init() {\n\n    // const keyStore = new nearAPI.keyStores.BrowserLocalStorageKeyStore();\n    const near = await nearAPI.connect({...window.roketCfg});\n\n    window.roketoConnection = new nearAPI.WalletConnection(near);\n\n    const account = await near.account(window.nearAccount.accountId);\n    console.log(account)\n    const ftContract = new Contract(account, 'wrap.testnet', {\n        changeMethods: ['ft_transfer_call', 'near_deposit'],\n    });\n    console.log(ftContract)\n    await ftContract.near_deposit({}, \"200000000000000\", \"1000000000000000000000000\");\n    // await ftContract.ft_transfer_call({\n    //     receiver_id: 'streaming-r-v2.dcversus.testnet',\n    //     amount: '1000000000000000000000000', // 1 NEAR\n    //     memo: 'Roketo transfer',\n    //     msg: JSON.stringify({\n    //         Create: {\n    //             request: {\n    //                 \"owner_id\": window.nearAccount.accountId,\n    //                 \"receiver_id\": \"rocketotest2.testnet\",\n    //                 \"tokens_per_sec\": 385802469135802469, // 1 month for 1 NEAR\n    //             }\n    //         }\n    //     }),\n    // }, 200000000000000);\n\n}\n\nexport {init}"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,aAAtB;AACA,SAAQC,QAAR,QAAuB,aAAvB;AACA,OAAO,KAAKC,OAAZ,MAAyB,aAAzB;AAEAC,MAAM,CAACC,QAAP,GAAkBJ,SAAS,CAAC,aAAD,CAA3B;;AAEA,eAAeK,IAAf,GAAsB;EAElB;EACA,MAAMC,IAAI,GAAG,MAAMJ,OAAO,CAACK,OAAR,CAAgB,EAAC,GAAGJ,MAAM,CAACC;EAAX,CAAhB,CAAnB;EAEAD,MAAM,CAACK,gBAAP,GAA0B,IAAIN,OAAO,CAACO,gBAAZ,CAA6BH,IAA7B,CAA1B;EAEA,MAAMI,OAAO,GAAG,MAAMJ,IAAI,CAACI,OAAL,CAAaP,MAAM,CAACQ,WAAP,CAAmBC,SAAhC,CAAtB;EACAC,OAAO,CAACC,GAAR,CAAYJ,OAAZ;EACA,MAAMK,UAAU,GAAG,IAAId,QAAJ,CAAaS,OAAb,EAAsB,cAAtB,EAAsC;IACrDM,aAAa,EAAE,CAAC,kBAAD,EAAqB,cAArB;EADsC,CAAtC,CAAnB;EAGAH,OAAO,CAACC,GAAR,CAAYC,UAAZ;EACA,MAAMA,UAAU,CAACE,YAAX,CAAwB,EAAxB,EAA4B,iBAA5B,EAA+C,2BAA/C,CAAN,CAbkB,CAclB;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AAEH;;AAED,SAAQZ,IAAR"},"metadata":{},"sourceType":"module"}