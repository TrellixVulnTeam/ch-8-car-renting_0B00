{"ast":null,"code":"import \"core-js/modules/web.dom-exception.stack.js\";\nimport { Contract } from \"near-api-js\";\nimport * as nearAPI from \"near-api-js\";\n\nasync function init() {\n  const ftContract = new Contract(window.walletConnection.account(), 'wrap.testnet', {\n    changeMethods: ['ft_transfer_call', 'near_deposit']\n  });\n  const provider = new nearAPI.providers.JsonRpcProvider(window.nearConfig.nodeUrl);\n  const argsBase64 = window.btoa(JSON.stringify({\n    owner_account_id: window.nearAccount.accountId\n  }));\n  const rawResult = await provider.query({\n    request_type: \"call_function\",\n    finality: \"final\",\n    account_id: 'streaming-r-v2.dcversus.testnet',\n    method_name: \"get_cars_by_owner_id\",\n    args_base64: argsBase64\n  });\n  this.cars = JSON.parse(Buffer.from(rawResult.result).toString());\n  console.log(ftContract); // await ftContract.near_deposit({}, \"200000000000000\", \"1000000000000000000000000\");\n  // await ftContract.ft_transfer_call({\n  //     receiver_id: 'streaming-r-v2.dcversus.testnet',\n  //     amount: '1000000000000000000000000', // 1 NEAR\n  //     memo: 'Roketo transfer',\n  //     msg: JSON.stringify({\n  //         Create: {\n  //             request: {\n  //                 \"owner_id\": window.nearAccount.accountId,\n  //                 \"receiver_id\": \"rocketotest2.testnet\",\n  //                 \"tokens_per_sec\": 385802469135802469, // 1 month for 1 NEAR\n  //             }\n  //         }\n  //     }),\n  // }, 200000000000000,1);\n}\n\nexport { init };","map":{"version":3,"names":["Contract","nearAPI","init","ftContract","window","walletConnection","account","changeMethods","provider","providers","JsonRpcProvider","nearConfig","nodeUrl","argsBase64","btoa","JSON","stringify","owner_account_id","nearAccount","accountId","rawResult","query","request_type","finality","account_id","method_name","args_base64","cars","parse","Buffer","from","result","toString","console","log"],"sources":["/var/www/ch-8-car-renting/frontend/src/roketoNearJsService.js"],"sourcesContent":["import {Contract} from \"near-api-js\";\nimport * as nearAPI from \"near-api-js\";\n\nasync function init() {\n\n    const ftContract = new Contract(window.walletConnection.account(), 'wrap.testnet', {\n        changeMethods: ['ft_transfer_call', 'near_deposit'],\n    });\n\n    const provider = new nearAPI.providers.JsonRpcProvider(window.nearConfig.nodeUrl);\n    const argsBase64 = window.btoa(JSON.stringify({owner_account_id:window.nearAccount.accountId}))\n    const rawResult = await provider.query({\n        request_type: \"call_function\",\n        finality: \"final\",\n        account_id: 'streaming-r-v2.dcversus.testnet',\n        method_name: \"get_cars_by_owner_id\",\n        args_base64: argsBase64,\n    });\n    this.cars = JSON.parse(Buffer.from(rawResult.result).toString())\n\n    console.log(ftContract)\n    // await ftContract.near_deposit({}, \"200000000000000\", \"1000000000000000000000000\");\n    // await ftContract.ft_transfer_call({\n    //     receiver_id: 'streaming-r-v2.dcversus.testnet',\n    //     amount: '1000000000000000000000000', // 1 NEAR\n    //     memo: 'Roketo transfer',\n    //     msg: JSON.stringify({\n    //         Create: {\n    //             request: {\n    //                 \"owner_id\": window.nearAccount.accountId,\n    //                 \"receiver_id\": \"rocketotest2.testnet\",\n    //                 \"tokens_per_sec\": 385802469135802469, // 1 month for 1 NEAR\n    //             }\n    //         }\n    //     }),\n    // }, 200000000000000,1);\n\n}\n\nexport {init}"],"mappings":";AAAA,SAAQA,QAAR,QAAuB,aAAvB;AACA,OAAO,KAAKC,OAAZ,MAAyB,aAAzB;;AAEA,eAAeC,IAAf,GAAsB;EAElB,MAAMC,UAAU,GAAG,IAAIH,QAAJ,CAAaI,MAAM,CAACC,gBAAP,CAAwBC,OAAxB,EAAb,EAAgD,cAAhD,EAAgE;IAC/EC,aAAa,EAAE,CAAC,kBAAD,EAAqB,cAArB;EADgE,CAAhE,CAAnB;EAIA,MAAMC,QAAQ,GAAG,IAAIP,OAAO,CAACQ,SAAR,CAAkBC,eAAtB,CAAsCN,MAAM,CAACO,UAAP,CAAkBC,OAAxD,CAAjB;EACA,MAAMC,UAAU,GAAGT,MAAM,CAACU,IAAP,CAAYC,IAAI,CAACC,SAAL,CAAe;IAACC,gBAAgB,EAACb,MAAM,CAACc,WAAP,CAAmBC;EAArC,CAAf,CAAZ,CAAnB;EACA,MAAMC,SAAS,GAAG,MAAMZ,QAAQ,CAACa,KAAT,CAAe;IACnCC,YAAY,EAAE,eADqB;IAEnCC,QAAQ,EAAE,OAFyB;IAGnCC,UAAU,EAAE,iCAHuB;IAInCC,WAAW,EAAE,sBAJsB;IAKnCC,WAAW,EAAEb;EALsB,CAAf,CAAxB;EAOA,KAAKc,IAAL,GAAYZ,IAAI,CAACa,KAAL,CAAWC,MAAM,CAACC,IAAP,CAAYV,SAAS,CAACW,MAAtB,EAA8BC,QAA9B,EAAX,CAAZ;EAEAC,OAAO,CAACC,GAAR,CAAY/B,UAAZ,EAjBkB,CAkBlB;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AAEH;;AAED,SAAQD,IAAR"},"metadata":{},"sourceType":"module"}