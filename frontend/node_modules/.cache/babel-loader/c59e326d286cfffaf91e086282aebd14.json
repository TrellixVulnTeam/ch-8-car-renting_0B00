{"ast":null,"code":"import getConfig from './config.js';\nimport * as nearAPI from 'near-api-js';\nwindow.nearConfig = getConfig(process.env.VUE_APP_NEAR_ENV || 'testnet');\nwindow.roketoWrapContractName = 'wrap.testnet';\nwindow.roketoContractName = 'streaming-r-v2.dcversus.testnet';\n\nasync function init() {\n  // create a keyStore for signing transactions using the user's key\n  // which is located in the browser local storage after user logs in\n  const keyStore = new nearAPI.keyStores.BrowserLocalStorageKeyStore(); // Initializing connection to the NEAR testnet\n\n  const near = await nearAPI.connect({\n    keyStore,\n    ...window.nearConfig\n  }); // Initialize wallet connection\n\n  window.walletConnection = new nearAPI.WalletConnection(near);\n  await updateNearAcc();\n}\n\nasync function updateNearAcc() {\n  window.nearAccount = {\n    'isSignedIn': await isSignedIn(),\n    'accountId': window.walletConnection.getAccountId()\n  };\n}\n\nasync function signIn() {\n  window.walletConnection.requestSignIn(window.nearConfig.contractName // '', // title. Optional, by the way\n  // '', // successUrl. Optional, by the way\n  // '', // failureUrl. Optional, by the way\n  );\n}\n\nasync function signOut() {\n  await window.walletConnection.signOut();\n  await updateNearAcc();\n}\n\nasync function isSignedIn() {\n  return window.walletConnection.isSignedIn();\n}\n\nexport { init, signIn, signOut, isSignedIn };","map":{"version":3,"names":["getConfig","nearAPI","window","nearConfig","process","env","VUE_APP_NEAR_ENV","roketoWrapContractName","roketoContractName","init","keyStore","keyStores","BrowserLocalStorageKeyStore","near","connect","walletConnection","WalletConnection","updateNearAcc","nearAccount","isSignedIn","getAccountId","signIn","requestSignIn","contractName","signOut"],"sources":["/var/www/ch-8-car-renting/frontend/src/utils.js"],"sourcesContent":["import getConfig from './config.js';\nimport * as nearAPI from 'near-api-js';\n\nwindow.nearConfig = getConfig(process.env.VUE_APP_NEAR_ENV || 'testnet');\nwindow.roketoWrapContractName = 'wrap.testnet'\nwindow.roketoContractName = 'streaming-r-v2.dcversus.testnet'\nasync function init() {\n\n    // create a keyStore for signing transactions using the user's key\n// which is located in the browser local storage after user logs in\n    const keyStore = new nearAPI.keyStores.BrowserLocalStorageKeyStore();\n\n// Initializing connection to the NEAR testnet\n    const near = await nearAPI.connect({keyStore, ...window.nearConfig});\n\n// Initialize wallet connection\n    window.walletConnection = new nearAPI.WalletConnection(near);\n\n    await updateNearAcc();\n\n}\n\nasync function updateNearAcc() {\n    window.nearAccount = {\n        'isSignedIn': await isSignedIn(),\n        'accountId': window.walletConnection.getAccountId()\n    }\n}\n\nasync function signIn() {\n    window.walletConnection.requestSignIn(\n        window.nearConfig.contractName,\n        // '', // title. Optional, by the way\n        // '', // successUrl. Optional, by the way\n        // '', // failureUrl. Optional, by the way\n    );\n}\n\nasync function signOut() {\n    await window.walletConnection.signOut();\n    await updateNearAcc();\n}\n\nasync function isSignedIn() {\n    return window.walletConnection.isSignedIn();\n}\n\n\n\nexport {\n    init,\n    signIn,\n    signOut,\n    isSignedIn,\n}"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,aAAtB;AACA,OAAO,KAAKC,OAAZ,MAAyB,aAAzB;AAEAC,MAAM,CAACC,UAAP,GAAoBH,SAAS,CAACI,OAAO,CAACC,GAAR,CAAYC,gBAAZ,IAAgC,SAAjC,CAA7B;AACAJ,MAAM,CAACK,sBAAP,GAAgC,cAAhC;AACAL,MAAM,CAACM,kBAAP,GAA4B,iCAA5B;;AACA,eAAeC,IAAf,GAAsB;EAElB;EACJ;EACI,MAAMC,QAAQ,GAAG,IAAIT,OAAO,CAACU,SAAR,CAAkBC,2BAAtB,EAAjB,CAJkB,CAMtB;;EACI,MAAMC,IAAI,GAAG,MAAMZ,OAAO,CAACa,OAAR,CAAgB;IAACJ,QAAD;IAAW,GAAGR,MAAM,CAACC;EAArB,CAAhB,CAAnB,CAPkB,CAStB;;EACID,MAAM,CAACa,gBAAP,GAA0B,IAAId,OAAO,CAACe,gBAAZ,CAA6BH,IAA7B,CAA1B;EAEA,MAAMI,aAAa,EAAnB;AAEH;;AAED,eAAeA,aAAf,GAA+B;EAC3Bf,MAAM,CAACgB,WAAP,GAAqB;IACjB,cAAc,MAAMC,UAAU,EADb;IAEjB,aAAajB,MAAM,CAACa,gBAAP,CAAwBK,YAAxB;EAFI,CAArB;AAIH;;AAED,eAAeC,MAAf,GAAwB;EACpBnB,MAAM,CAACa,gBAAP,CAAwBO,aAAxB,CACIpB,MAAM,CAACC,UAAP,CAAkBoB,YADtB,CAEI;EACA;EACA;EAJJ;AAMH;;AAED,eAAeC,OAAf,GAAyB;EACrB,MAAMtB,MAAM,CAACa,gBAAP,CAAwBS,OAAxB,EAAN;EACA,MAAMP,aAAa,EAAnB;AACH;;AAED,eAAeE,UAAf,GAA4B;EACxB,OAAOjB,MAAM,CAACa,gBAAP,CAAwBI,UAAxB,EAAP;AACH;;AAID,SACIV,IADJ,EAEIY,MAFJ,EAGIG,OAHJ,EAIIL,UAJJ"},"metadata":{},"sourceType":"module"}