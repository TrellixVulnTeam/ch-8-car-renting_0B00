{"ast":null,"code":"import \"core-js/modules/web.dom-exception.stack.js\";\nimport CarListItemComponent from \"@/components/Pages/CarListItemComponent\";\nimport * as nearAPI from \"near-api-js\";\nexport default {\n  name: \"MyCarsComponent\",\n  components: {\n    CarListItemComponent\n  },\n\n  data() {\n    return {\n      cars: {}\n    };\n  },\n\n  methods: {\n    async getMyCars() {\n      const provider = new nearAPI.providers.JsonRpcProvider(window.nearConfig.nodeUrl);\n      const argsBase64 = window.btoa(JSON.stringify({\n        owner_account_id: window.nearAccount.accountId\n      }));\n      const rawResult = await provider.query({\n        request_type: \"call_function\",\n        finality: \"final\",\n        account_id: window.nearConfig.contractName,\n        method_name: \"get_cars_by_owner_id\",\n        args_base64: argsBase64\n      });\n      this.cars = JSON.parse(Buffer.from(rawResult.result).toString());\n    }\n\n  },\n\n  async mounted() {\n    let loader = this.$loading.show();\n    await this.getMyCars();\n    loader.hide();\n  }\n\n};","map":{"version":3,"mappings":";AAsBA,OAAOA,oBAAP,MAAiC,yCAAjC;AACA,OAAO,KAAKC,OAAZ,MAAyB,aAAzB;AAEA,eAAe;EACbC,IAAI,EAAE,iBADO;EAEbC,UAAU,EAAC;IACTH;EADS,CAFE;;EAKbI,IAAI,GAAE;IACJ,OAAO;MACLC,IAAG,EAAI;IADF,CAAP;EAGD,CATY;;EAUbC,OAAO,EAAC;IACN,MAAMC,SAAN,GAAiB;MACf,MAAMC,QAAO,GAAI,IAAIP,OAAO,CAACQ,SAAR,CAAkBC,eAAtB,CAAsCC,MAAM,CAACC,UAAP,CAAkBC,OAAxD,CAAjB;MACA,MAAMC,UAAS,GAAIH,MAAM,CAACI,IAAP,CAAYC,IAAI,CAACC,SAAL,CAAe;QAACC,gBAAgB,EAACP,MAAM,CAACQ,WAAP,CAAmBC;MAArC,CAAf,CAAZ,CAAnB;MACA,MAAMC,SAAQ,GAAI,MAAMb,QAAQ,CAACc,KAAT,CAAe;QACrCC,YAAY,EAAE,eADuB;QAErCC,QAAQ,EAAE,OAF2B;QAGrCC,UAAU,EAAEd,MAAM,CAACC,UAAP,CAAkBc,YAHO;QAIrCC,WAAW,EAAE,sBAJwB;QAKrCC,WAAW,EAAEd;MALwB,CAAf,CAAxB;MAOA,KAAKT,IAAL,GAAYW,IAAI,CAACa,KAAL,CAAWC,MAAM,CAACC,IAAP,CAAYV,SAAS,CAACW,MAAtB,EAA8BC,QAA9B,EAAX,CAAZ;IACF;;EAZM,CAVK;;EAwBb,MAAMC,OAAN,GAAgB;IACd,IAAIC,MAAK,GAAI,KAAKC,QAAL,CAAcC,IAAd,EAAb;IACA,MAAM,KAAK9B,SAAL,EAAN;IACA4B,MAAM,CAACG,IAAP;EACD;;AA5BY,CAAf","names":["CarListItemComponent","nearAPI","name","components","data","cars","methods","getMyCars","provider","providers","JsonRpcProvider","window","nearConfig","nodeUrl","argsBase64","btoa","JSON","stringify","owner_account_id","nearAccount","accountId","rawResult","query","request_type","finality","account_id","contractName","method_name","args_base64","parse","Buffer","from","result","toString","mounted","loader","$loading","show","hide"],"sourceRoot":"","sources":["/var/www/ch-8-car-renting/frontend/src/components/Pages/MyCarsComponent.vue"],"sourcesContent":["<template>\n  <section class=\"site-section p-4\">\n    <div class=\"container\">\n\n      <div class=\"row\">\n        <car-list-item-component v-for=\"(car,key) in cars\" :key=\"key\"\n                                 :id=\"key\"\n                                 :title=\"car.title\"\n                                 :description=\"car.description\"\n                                 :image=\"car.image\"\n                                 :owner_id=\"car.owner_id\"\n                                 :price_per_month=\"car.price_per_month\"\n        >\n\n        </car-list-item-component>\n\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nimport CarListItemComponent from \"@/components/Pages/CarListItemComponent\";\nimport * as nearAPI from \"near-api-js\";\n\nexport default {\n  name: \"MyCarsComponent\",\n  components:{\n    CarListItemComponent\n  },\n  data(){\n    return {\n      cars : {}\n    }\n  },\n  methods:{\n    async getMyCars(){\n      const provider = new nearAPI.providers.JsonRpcProvider(window.nearConfig.nodeUrl);\n      const argsBase64 = window.btoa(JSON.stringify({owner_account_id:window.nearAccount.accountId}))\n      const rawResult = await provider.query({\n        request_type: \"call_function\",\n        finality: \"final\",\n        account_id: window.nearConfig.contractName,\n        method_name: \"get_cars_by_owner_id\",\n        args_base64: argsBase64,\n      });\n      this.cars = JSON.parse(Buffer.from(rawResult.result).toString())\n    }\n  },\n  async mounted() {\n    let loader = this.$loading.show();\n    await this.getMyCars()\n    loader.hide()\n  },\n}\n</script>\n\n<style scoped>\n\n</style>"]},"metadata":{},"sourceType":"module"}